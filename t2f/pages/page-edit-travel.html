
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">



<link rel="import" href="../app-elements/travel-elements/travel-edit.html">
<link rel="import" href="../app-elements/page-elements/page-header.html">

<link rel="import" href="../styles/shared-styles.html">



<dom-module id="page-edit-travel">

  <style include="shared-styles">
    :host {
      display: block;
    }

  </style>

  <template>
    <app-header-layout>

      <app-header fixed shadow>

        <page-header title="" structure="[[structure]]" user="[[user]]"></page-header>

      </app-header>
    </app-header-layout>
    <template is="dom-if" if="[[showTravelEdit]]" restamp>
      <travel-edit travel-id="[[travelId]]" et2f-permissions="[[et2fPermissions]]" travel-data-loading="{{detailLoading}}" structure="[[structure]]"
      raw-structure="[[rawStructure]]" user="[[user]]" route="{{route}}" ></travel-edit>
    </template>
  </template>

  <script>
    Polymer({
      is: 'page-edit-travel',
      properties: {
        travelId: Number,
        et2fPermissions: {
          type: Object,
        },
        structure: Object,
        rawStructure: Object,
        user: Object,
        route: {
          type: Object,
          notify: true,
        },
        detailLoading: {
          type: Boolean,
          notify: true
        },
        showTravelEdit: {
          type: Boolean,
          value: false,
          computed: '_computeShowTravelEdit(structure, et2fPermissions, travelId, user)'
        }
      },
      _computeShowTravelEdit: function(structure, permissions, id, user) {
        return structure && permissions && id && user;
      }

    });
  </script>
</dom-module>
